

const works = [
  
  {
    title: "Project Stay Go CNX",
    image: "images/work1.PNG",
     modalImage: "images/GF3.PNG",   // รูปที่ต้องการให้ขึ้นใน modal
      link: "https://www.canva.com/design/DAG5tx9AkjY/0HpNbODrNb_SYD3HxhmQ0w/edit?utm_content=DAG5tx9AkjY&utm_campaign=designshare&utm_medium=link2&utm_source=sharebutton",
    description: `
    โครงการ Stay Go CNX คือไอเดียเเพลตฟอร์มที่ทีมของเราพัฒนาขึ้นสำหรับเเข่งในงาน Gosoft Hackathon เป็นเเนวคิดเพื่อยกระดับบริการเสริมจากโรงแรม ที่ใช้ AI Matching System เชื่อมโยงนักท่องเที่ยวกับคนขับท้องถิ่นตามไลฟ์สไตล์และความสนใจ 
    ช่วยสร้างประสบการณ์การเดินทางที่ สะดวกและเป็นส่วนตัว พร้อมเพิ่มคุณค่าการบริการของโรงแรมและสร้างรายได้ให้ผู้ประกอบการท้องถิ่น 
    แพลตฟอร์มนี้เน้นการสร้างชุมชน และระบบนิเวศการท่องเที่ยวที่ครบวงจรและยั่งยืน<br><br>
    <strong>เป้าหมายของโปรเจกต์</strong>
    <ul>
      <li>เพื่อพัฒนา AI Matching System ที่เชื่อมโยงโรงแรมกับบริการขนส่งในท้องถิ่น</li>
      <li>เพื่อสร้างประสบการณ์การเดินทางแบบ Personalized ที่ตอบโจทย์ไลฟ์สไตล์ของนักท่องเที่ยว</li>
      <li>เพื่อสนับสนุนการกระจายรายได้อย่างเป็นธรรมแก่ผู้ให้บริการขนส่งในพื้นที่</li>
      <li>เพื่อยกระดับมาตรฐานการท่องเที่ยวของเชียงใหม่ด้วยบริการที่โปร่งใสและมีคุณภาพ</li>
      <li>เพื่อส่งเสริมการท่องเที่ยวอย่างยั่งยืนและเพิ่มโอกาสการเข้าพักซ้ำของนักท่องเที่ยว
</li>
    </ul>`
  },
  {
    title: "Project Dream Shop Journey",
    image: "images/work2.PNG",
     modalImage: "images/Nsc1.PNG",   // รูปที่ต้องการให้ขึ้นใน modal
      link: "https://drive.google.com/file/d/1Ta_xBjFmfXrZhLOgm5A51RcGCOTYx762/view?usp=sharing",
    description: `
    โครงการ Dream Shop Journey คือไอเดียเเพลตฟอร์มทีทีมของเราพัฒนาขึ้นสำหรับ การเเข่งขันพัฒนาโปรเเกรมคอมพิวเตอร์เเห่งประเทศไทย ครั้งที่ 27 เป็นโครงการออกแบบและพัฒนาการเรียนรู้ผ่านเกม ที่มุ่งเน้นให้ผู้เรียนได้ฝึกทักษะการวางแผน การตัดสินใจ และการแก้ไขปัญหาในสถานการณ์จำลองเกี่ยวกับการเงินและอาชีพ
    กลุ่มเป้าหมายคือ นักเรียนระดับมัธยมศึกษาตอนปลาย ที่ต้องการเรียนรู้เรื่องเส้นทางอาชีพ การวางแผนทางการเงิน และระบบเศรษฐกิจการเงิน ผ่านกิจกรรมเชิงสร้างสรรค์ที่ยืดหยุ่นและสนุกสนาน
    แม้ตัวเกมที่พัฒนาขึ้นยังไม่สมบูรณ์เนื่องจากข้อจำกัดด้านเวลาและประสบการณ์ของทีมพัฒนา แต่ทีมงานมีความตั้งใจและมุ่งมั่นที่จะปรับปรุงและพัฒนาให้สมบูรณ์ยิ่งขึ้นในอนาคต เพื่อให้เกมนี้เป็นเครื่องมือการเรียนรู้ที่มีคุณภาพและเข้าถึงผู้เรียนได้จริง
<br><br>
    <strong>เป้าหมายของโปรเจกต์</strong>
    <ul>
      <li>เพื่อออกแบบและพัฒนาการเรียนรู้ผ่านเกม Dream Shop Journey</li>
      <li>เพื่อฝึกทักษะการตัดสินใจและการแก้ไขปัญหาในสถานการณ์จำลอง</li>
      <li>เพื่อพัฒนาทักษะการบริหารจัดการทางการเงินส่วนบุคคล</li>
      <li> เพื่อสร้างแรงบันดาลใจให้ผู้เรียนพัฒนาตนเองและมองเห็นเส้นทางอาชีพในอนาคต</li>
    </ul>`
  },
  {
    title: "Project Empathy Map Canvas",
    image: "images/work3.PNG",
     modalImage: "images/F.PNG",   // รูปที่ต้องการให้ขึ้นใน modal
      link: "https://www.canva.com/design/DAG5tyD6Yq0/Jn5qv196eSj7FPSB9w1nDA/edit?utm_content=DAG5tyD6Yq0&utm_campaign=designshare&utm_medium=link2&utm_source=sharebutton",
    description: `
   โครงการนี้เป็นการศึกษาและทำความเข้าใจมุมมองของกลุ่มเป้าหมายในสองช่วงวัย ได้แก่ นักศึกษา และ วัยทำงาน โดยใช้เครื่องมือ Empathy Map Canvas 
   เพื่อสำรวจความคิด ความรู้สึก พฤติกรรม และแรงจูงใจของผู้คนในแต่ละกลุ่ม เพื่อให้สามารถออกแบบแนวทางในการสนับสนุนและแก้ไขปัญหาได้ตรงตามความต้องการของพวกเขา
   ผลการศึกษาพบว่า ทั้งสองกลุ่มต่างเผชิญกับ ความเครียดและความกดดัน จากสิ่งแวดล้อมรอบตัว แต่มีลักษณะและความต้องการที่แตกต่างกัน นักศึกษามักเผชิญแรงกดดันจากการเรียน 
   การบริหารเวลา และความไม่แน่นอนของอนาคต ส่วนวัยทำงานเผชิญความเครียดจากภาระงาน ความรับผิดชอบในครอบครัว และสภาพแวดล้อมในการทำงาน
<br><br>
    <strong>เป้าหมายของโปรเจกต์</strong>
    <ul>
      <li>เพื่อทำความเข้าใจประสบการณ์ ความรู้สึก และความต้องการของนักศึกษาและวัยทำงาน</li>
      <li>เพื่อระบุปัจจัยที่ส่งผลต่อความเครียดและแรงจูงใจในแต่ละกลุ่ม</li>
      <li>เพื่อใช้ข้อมูลที่ได้มาพัฒนาแนวทางในการลดความเครียดและส่งเสริมสุขภาวะทางใจ</li>
      <li>เพื่อสร้างแนวทางการสนับสนุนที่เหมาะสมกับบริบทของแต่ละช่วงวัย</li>
    </ul>`
  },
  {
    title: "Project Taem Balm",
    image: "images/work4.PNG",
    modalImage: "images/nso4.PNG",   // รูปที่ต้องการให้ขึ้นใน modal
     link: "https://www.canva.com/design/DAGhyiyN0yc/IgAb1z0WJBvgb-cFxjeZ4w/view?utm_content=DAGhyiyN0yc&utm_campaign=designshare&utm_medium=link2&utm_source=uniquelinks&utlId=ha430aa61ff",
    description: `
    miniproject “แต้ม” คือไอเดีย Product ที่ทีมของเราคิดเเละออกเเบบมาเป็นแบรนด์บาล์มสมุนไพรที่ได้รับแรงบันดาลใจจาก ผาแต้ม จังหวัดอุบลราชธานี
แนวคิดหลักคือการนำพลังแห่งธรรมชาติและวัฒนธรรมโบราณมาผสมผสานกับความงามแบบไทย เพื่อสร้างผลิตภัณฑ์ที่ให้ทั้งความหอมและความผ่อนคลาย
โลโก้ออกแบบจากคำว่า “แต้ม” ที่สื่อถึง การแตะเติมและการป้าย โดยใช้รูปทรงคล้ายรอยนิ้วมือและสีโทนธรรมชาติ (น้ำตาล ดิน แดง) 
เพื่อสะท้อนถึงความเป็นสมุนไพรและธรรมชาติอย่างแท้จริง<br><br>
    <strong>เป้าหมายของโปรเจกต์</strong>
    <ul>
      <li>เพื่อสร้างแบรนด์บาล์มสมุนไพรที่สะท้อนความงามของธรรมชาติและภูมิปัญญาท้องถิ่น</li>
      <li>ถ่ายทอดเอกลักษณ์ของผาแต้ม ผ่านกลิ่นหอมที่ช่วย ผ่อนคลาย ลดความเครียด และเพิ่มเสน่ห์</li>
      <li>พัฒนาผลิตภัณฑ์ที่ใช้งานง่าย พกพาสะดวก และเหมาะกับทุกไลฟ์สไตล์</li>
      <li>ส่งเสริมการใช้วัตถุดิบจากสมุนไพรไทยและสร้างคุณค่าใหม่ให้กับภูมิปัญญาท้องถิ่น</li>
    </ul>`
  }
];

const gallery = document.getElementById("workGallery");
  const workModal = document.getElementById("workModal");
  const modalImage = workModal.querySelector("#modalImage");
  const modalTitle = workModal.querySelector("#modalTitle");
  const modalDescription = workModal.querySelector("#modalDescription");
  const workCloseBtn = workModal.querySelector(".close-btn");
  const workPrevBtn = workModal.querySelector(".prev");
  const workNextBtn = workModal.querySelector(".next");

let currentIndex = 0;

works.forEach((work, index) => {
    const div = document.createElement("div");
    div.className = "work-item";
    div.innerHTML = `<img src="${work.image}" alt="${work.title}"><h3>${work.title}</h3>`;
    div.onclick = () => openModal(index);
    gallery.appendChild(div);
  });

function openModal(index) {
    currentIndex = index;
    workModal.style.display = "flex";
    showWork(currentIndex);
  }

function showWork(index) {
    const work = works[index];
    modalImage.src = work.modalImage;
    modalTitle.innerHTML = work.title;
    modalDescription.innerHTML = work.description;
  }

workCloseBtn.onclick = () => workModal.style.display = "none";
  workPrevBtn.onclick = () => { currentIndex = (currentIndex - 1 + works.length) % works.length; showWork(currentIndex); };
  workNextBtn.onclick = () => { currentIndex = (currentIndex + 1) % works.length; showWork(currentIndex); };
  window.addEventListener("click", e => { if(e.target === workModal) workModal.style.display = "none"; });

/* --------- Certificate Gallery --------- */
  const certificates = [
    { title: "Certificate 1", images: ["GF ME.PNG","GF1.PNG","GF2.PNG"], description: "" },
    { title: "Certificate 2", images: ["nso me.PNG","nso1.PNG","nso3.PNG"], description: "" },
    { title: "Certificate 3", images: ["Web.PNG"], description: "" }
  ];

  const certGallery = document.getElementById("certGallery");
  const certModal = document.getElementById("certModal");
  const certModalImage = certModal.querySelector("#certModalImage");
  const certModalTitle = certModal.querySelector("#certModalTitle");
  const certModalDescription = certModal.querySelector("#certModalDescription");
  const certCloseBtn = certModal.querySelector(".close-btn");
  const certPrevBtn = certModal.querySelector(".prev");
  const certNextBtn = certModal.querySelector(".next");
  const certThumbnails = certModal.querySelector("#certThumbnails");

  let currentCertIndex = 0;
  let currentImageIndex = 0;

  certificates.forEach((cert, index) => {
    const div = document.createElement("div");
    div.className = "cert-item";
    div.innerHTML = `<img src="${cert.images[0]}" alt="${cert.title}"><h4>${cert.title}</h4>`;
    div.onclick = () => openCertModal(index);
    certGallery.appendChild(div);
  });

  function openCertModal(certIndex) {
    currentCertIndex = certIndex;
    currentImageIndex = 0;
    certModal.style.display = "flex";
    showCertImage();
    showThumbnails();
  }

  function showCertImage(direction) {
    const cert = certificates[currentCertIndex];
    certModalImage.className = '';
    if(direction) certModalImage.classList.add(direction === 'next' ? 'slide-left' : 'slide-right');
    certModalImage.src = cert.images[currentImageIndex];
    certModalTitle.textContent = cert.title;
    certModalDescription.innerHTML = cert.description + `<br><small>Image ${currentImageIndex+1} of ${cert.images.length}</small>`;

    Array.from(certThumbnails.children).forEach((thumb, i) => thumb.classList.toggle('active', i === currentImageIndex));
  }

  certPrevBtn.onclick = () => {
    const cert = certificates[currentCertIndex];
    currentImageIndex = (currentImageIndex - 1 + cert.images.length) % cert.images.length;
    showCertImage('prev');
  };
  certNextBtn.onclick = () => {
    const cert = certificates[currentCertIndex];
    currentImageIndex = (currentImageIndex + 1) % cert.images.length;
    showCertImage('next');
  };

  function showThumbnails() {
    const cert = certificates[currentCertIndex];
    certThumbnails.innerHTML = '';
    cert.images.forEach((img, i) => {
      const thumb = document.createElement('img');
      thumb.src = img;
      thumb.className = i === currentImageIndex ? 'active' : '';
      thumb.onclick = () => { currentImageIndex = i; showCertImage(); };
      certThumbnails.appendChild(thumb);
    });
  }

  certCloseBtn.onclick = () => certModal.style.display = "none";
  window.addEventListener("click", e => { if(e.target === certModal) certModal.style.display = "none"; });

  // Swipe support
  let startX = 0;
  certModalImage.addEventListener('touchstart', e => startX = e.touches[0].clientX);
  certModalImage.addEventListener('touchend', e => {
    let endX = e.changedTouches[0].clientX;
    if(endX - startX > 50) certPrevBtn.onclick();
    else if(startX - endX > 50) certNextBtn.onclick();
  });
  function showCertImage(direction) {
  const cert = certificates[currentCertIndex];
  
  certModalImage.classList.remove('slide-left', 'slide-right');
  if (direction) certModalImage.classList.add(direction === 'next' ? 'slide-left' : 'slide-right');

  // ใช้ setTimeout เพื่อ animation แปปนึงก่อนเปลี่ยน src
  certModalImage.style.opacity = 0;
  setTimeout(() => {
    certModalImage.src = cert.images[currentImageIndex];
    certModalImage.style.opacity = 1;
  }, 150);

  certModalTitle.textContent = cert.title;
  certModalDescription.innerHTML = cert.description + `<br><small>Image ${currentImageIndex+1} of ${cert.images.length}</small>`;

  Array.from(certThumbnails.children).forEach((thumb, i) => {
    thumb.classList.toggle('active', i === currentImageIndex);
  });
}
// JS
const certMainImage = certModal.querySelector("#certModalImage");
let certAltImage = null; // ตัวสำรอง

function showCertImage(direction) {
  const cert = certificates[currentCertIndex];

  if (!certAltImage) {
    certAltImage = document.createElement('img');
    certAltImage.style.position = 'absolute';
    certAltImage.style.top = '0';
    certAltImage.style.left = '0';
    certAltImage.style.width = '100%';
    certAltImage.style.height = '100%';
    certAltImage.style.objectFit = 'contain';
    certAltImage.style.opacity = 0;
    certAltImage.style.transition = 'transform 0.4s ease, opacity 0.4s ease';
    certModal.querySelector('.image-container').appendChild(certAltImage);
  }

  const frontImage = certMainImage.style.opacity == 1 ? certMainImage : certAltImage;
  const backImage = frontImage === certMainImage ? certAltImage : certMainImage;

  backImage.src = cert.images[currentImageIndex];
  backImage.style.transition = 'none';
  backImage.style.transform = direction === 'next' ? 'translateX(100%)' : 'translateX(-100%)';
  backImage.style.opacity = 1;

  requestAnimationFrame(() => {
    frontImage.style.transition = 'transform 0.4s ease, opacity 0.4s ease';
    backImage.style.transition = 'transform 0.4s ease, opacity 0.4s ease';

    frontImage.style.transform = direction === 'next' ? 'translateX(-100%)' : 'translateX(100%)';
    frontImage.style.opacity = 0;

    backImage.style.transform = 'translateX(0)';
    backImage.style.opacity = 1;
  });

  certModalTitle.textContent = cert.title;
  certModalDescription.innerHTML = cert.description + `<br><small>Image ${currentImageIndex+1} of ${cert.images.length}</small>`;

  Array.from(certThumbnails.children).forEach((thumb, i) => {
    thumb.classList.toggle('active', i === currentImageIndex);
  });
}
function openModal(index) {
  currentIndex = index;
  workModal.style.display = "flex";
  setTimeout(() => workModal.classList.add('show'), 10); // เพื่อ transition scale
  showWork(currentIndex);
}

workCloseBtn.onclick = () => {
  workModal.classList.remove('show');
  setTimeout(() => workModal.style.display = "none", 400); // รอ animation จบ
};
const viewSlideBtn = document.getElementById("viewSlideBtn");

function showWork(index) {
  const work = works[index];

  modalImage.src = work.modalImage || work.image;
  modalTitle.innerHTML = work.title;
  modalDescription.innerHTML = work.description;

  // ปุ่มเปิดลิงก์
  viewSlideBtn.onclick = () => {
    window.open(work.link, "_blank");
    
  };
}
